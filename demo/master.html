<!DOCTYPE html>
<html>

<head>
    <title>Master v0.1</title>

    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

    <link href='http://fonts.googleapis.com/css?family=Archivo+Narrow' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="common/master.css"/>

    <script type="text/javascript" src="common/common.js"></script>

<!-- J3DLIB -->
<!-- Auto-generated by tools/demojstags.py. Do not edit this section -->
<script type="text/javascript" src="../build/j3d.js"></script>
<!-- J3DLIB -->

    <script type="text/javascript" src="../ext/UserStream.js"></script>

    <script>

        var demo, engine;
        var loadedDemos = [];
        var interactor;
        var demoDiv;

        function registerDemo(d) {
            loadedDemos.push(d);
        }

        var demolist = [
            'demos/000-hellocube.js',
            'demos/002-rings.js',
            'demos/003-cubemap.js',
            'demos/005-million-particles.js',
            'demos/006-particle-animation.js',
            'demos/011-plasma.js',
            'demos/014-head.js',
            'demos/022-webcam.js'
        ];

        window.onload = function() {

            if (!checkWebGL()) {
                console.log("No WebGL!");
                return;
            };

            demoDiv = document.getElementById("webgl");
            interactor = new Interactor();
            canvas = document.getElementById("gl");

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;


            engine = new J3D.Engine(canvas);
            render();
        }

        function loadDemo(i) {
            stopRendering();
            if(demo && demo.destroy) demo.destroy();

            engine.clear();

            var d = demolist[i];

            demoDiv.style["-webkit-filter"] = "grayscale(1) brightness(-1)";

            setTimeout(
                function() {
                    loadScript(d, function() {
                        demo = loadedDemos[loadedDemos.length - 1](engine);
                        demo.setup(startRendering);
                    })
                },
            1000);

        }

        var _rendering = false;

        function startRendering() {
            demoDiv.style["-webkit-filter"] = "grayscale(0) brightness(0)";
            _rendering = true;
        }

        function stopRendering() {
            _rendering = false;
        }

        function render() {
            if (_rendering) demo.render(interactor);
            requestAnimationFrame(render);
        }


    </script>

</head>

<body>

<div id="webgl">
    <canvas id="gl"></canvas>
</div>

<div id="overlay">
    <ul>
        <li onclick="loadDemo(0)">Cube</li>
        <li onclick="loadDemo(1)">Rings</li>
        <li onclick="loadDemo(2)">Reflection</li>
        <li onclick="loadDemo(3)">Particles</li>
        <li onclick="loadDemo(4)">Stream</li>
        <li onclick="loadDemo(5)">Plasma</li>
        <li onclick="loadDemo(6)">Head</li>
        <li onclick="loadDemo(7)">Webcam</li>
    </ul>
</div>


<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-24294554-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();

</script>

</body>
</html> 












