<html> 
 
<head> 
<title>000 | Hello Cube | J3D</title> 

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"> 

<link rel="stylesheet" href="common/common.css"/>
<script type="text/javascript" src="common/common.js"></script>

<!--
<script type="text/javascript" src="../lib/glMatrix.js"></script>
<script type="text/javascript" src="../lib/requestAnimationFrame.js"></script>
<script type="text/javascript" src="../src/J3D.js"></script>
<script type="text/javascript" src="../src/util/Color.js"></script>
<script type="text/javascript" src="../src/math/Vector2.js"></script>
<script type="text/javascript" src="../src/math/Vector3.js"></script>
<script type="text/javascript" src="../src/math/Matrix44.js"></script>
<script type="text/javascript" src="../src/engine/Engine.js"></script>
<script type="text/javascript" src="../src/engine/Camera.js"></script>
<script type="text/javascript" src="../src/engine/Light.js"></script>
<script type="text/javascript" src="../src/engine/Mesh.js"></script>
<script type="text/javascript" src="../src/engine/Scene.js"></script>
<script type="text/javascript" src="../src/engine/Loader.js"></script>
<script type="text/javascript" src="../src/engine/ShaderAtlas.js"></script>
<script type="text/javascript" src="../src/engine/Texture.js"></script>
<script type="text/javascript" src="../src/engine/Cubemap.js"></script>
<script type="text/javascript" src="../src/engine/Transform.js"></script>
<script type="text/javascript" src="../src/renderers/ShaderSource.js"></script>
<script type="text/javascript" src="../src/renderers/Phong.js"></script>
<script type="text/javascript" src="../src/renderers/Gouraud.js"></script>
<script type="text/javascript" src="../src/renderers/Normal2Color.js"></script>
<script type="text/javascript" src="../src/renderers/Reflective.js"></script>
<script type="text/javascript" src="../src/renderers/Skybox.js"></script>
<script type="text/javascript" src="../src/util/Time.js"></script>
-->

<script type="text/javascript" src="../build/j3d.js"></script>

<script>
	
	var engine, cube;
	
	function init() {
		
		// Always start by creating an instance of the engine
		engine = new J3D.Engine();
		// Choose the clear color fot the viewport (default is black)
		engine.setClearColor(J3D.Color.white);
		
		// Transforms are basic building blocks they define points in space with a position, rotation and scale
		cube = new J3D.Transform();
		cube.rotation = new v3(.8, .8, .8); // All rotations are in radians
		
		// A transform has no visual representation until we add two things to it:
		// 1. A mesh to define the shape of the object	
		J3D.Loader.loadJSON("models/cube.js", function(j) {  cube.mesh = new J3D.Mesh(j); } );		
		
		// 2. A renderer to define the way it looks 
		cube.renderer = new J3D.Normal2Color();
		
		// Next, create a camera and tell the engine to use this camera as point of view
		var camera = new J3D.Camera(45);
		camera.transform.position.z = 4;
		engine.camera = camera;

		// Add objects to the scene
		engine.scene.add(camera.transform, cube);

		draw();
	}
	
	function draw() {
		// Use requestAnimationFrame to call draw() repeatedly
		requestAnimationFrame(draw);

		// Time.deltaTime = time since last frame was rendered in seconds
		cube.rotation.x += Math.PI * J3D.Time.deltaTime / 6000;
		cube.rotation.y += Math.PI/2 * J3D.Time.deltaTime / 3000;
		
		// Render the scene, yay!
		engine.render();
	}
	
</script>

</head> 

<body onload="init();">
	
	<script>
		setLabels("000. Hello cube");
	</script>
	
</body> 

</html> 












